// PALETTE
$spacing-small: 0.5rem
$spacing-medium: 1rem
$spacing-large: 2rem

// RESET
*
    padding: 0
    margin: 0
    box-sizing: border-box

summary
    user-select: none
    cursor: pointer

// ANIMATION
@keyframes fade-up
    0%
        opacity: 1
        transform: translateY(0rem)

    50%
        opacity: 1
    100%
        opacity: 0
        transform: translateY(-4rem)

@keyframes dance
    0%
        transform: rotate(0deg) translate(0rem, 0rem)

    30%
        transform: rotate(-4deg) translate(-1rem, -1rem)

    80%
        transform: rotate(4deg) translate(1rem, -1rem)

    100%
        transform: rotate(0deg) translate(0rem, 0rem)

// MAIN

body
    background: #262626

#app
    height: 100dvh
    overflow-y: auto
    color: beige
    font-family: Arial, Helvetica, sans-serif
    display: flex
    flex-direction: column
    gap: $spacing-medium
    padding: $spacing-medium

.characters
    display: flex
    justify-content: space-between

.character
    position: relative
    padding: $spacing-medium
    flex: 0 0 8rem
    border: 1px solid beige
    display: flex
    flex-direction: column
    gap: $spacing-medium

    .icon
        text-align: center
        font-size: 3rem
        transition: transform 200ms ease-in, background-color 200ms

    progress, meter
        width: 100%

    &.enemy
        border-style: dotted
        &.attacking .icon
            transform: translateX(-1rem)
        &.hit .icon
            transform: translateX(0.5rem)

    &.attacking
        box-shadow: 0 0 1rem beige
        .icon
            transform: translateX(1rem)

    &.hit .icon
        transform: translateX(-0.5rem)

    &.winner .icon
        animation: dance 1000ms infinite ease-out

    &.dead
        animation: fade-up 1000ms forwards

.health-history
    position: relative
    height: 0
    overflow: visible

    p
        position: absolute
        left: 50%
        top: 0
        color: #262626
        padding: $spacing-medium
        background: rgba(255, 244, 202, 0.7)
        border-radius: 9999rem
        font-size: 0.8rem
        line-height: 0.8rem
        animation: fade-up 1000ms forwards

.buffs
    display: flex
    flex-direction: column
    gap: $spacing-small
    height: 7rem
    overflow-y: auto

.buff
    flex: 0 0 2.5rem
    font-size: 0.7rem
    border: 1px solid beige

.buff-presets
    display: flex
    flex-direction: column
    gap: $spacing-medium

    button
        padding: $spacing-medium

// METER

.custom-meter
    width: 100%
    height: 0.5rem
    background: grey
    position: relative
    border-radius: 9999rem
    overflow: hidden

    .value, .trail
        height: 100%
        transition: width 200ms ease-out
        position: absolute

    .value
        background: rgb(193, 137, 137)

    .trail
        background: beige
        transition-delay: 300ms

// ENERGY
.cyan
    color: cyan
.magenta
    color: magenta
.yellow
    color: yellow

// HAND
.hand
    display: flex
    flex-direction: column

.card
    border: 0.3rem solid beige
    padding: $spacing-medium
    opacity: 0.5
    border-radius: 1rem

    &.can-afford
        opacity: 1

.player-hand
    display: flex

    .card
        width: 10rem
